<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini Pixelart Editor</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="favicon.svg" type="image/x-icon">
</head>
<body>
  <div class="library">
    <h2>Color Palette</h2>
    <div class="color-format">
      <code>#FFFFFFF</code>
      <label>
        <input class="checkbox-switch" type="checkbox" id="colorFormat">
        <span class="switch"></span>
      </label>
      <code>#FFF</code>
    </div>
    <div class="palette" id="palette">
      <label data-color="1" class="label">
        <input type="radio" name="brush-color" checked>
        <span class="radio"></span>
        <span class="hotkey">
          <code>1</code>
          <code>q</code>
        </span>
        <input type="color" value="#111111">
        <span class="color-swatch"></span>
      </label>
      <label data-color="2" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>2</code>
          <code>w</code>
        </span>
        <input type="color" value="#ffffff">
        <span class="color-swatch"></span>
      </label>
      <label data-color="3" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>3</code>
          <code>e</code>
        </span>
        <input type="color" value="#888888">
        <span class="color-swatch"></span>
      </label>
      <label data-color="4" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>4</code>
          <code>a</code>
        </span>
        <input type="color" value="#ee1111">
        <span class="color-swatch"></span>
      </label>
      <label data-color="5" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>5</code>
          <code>s</code>
        </span>
        <input type="color" value="#11ee11">
        <span class="color-swatch"></span>
      </label>
      <label data-color="6" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>6</code>
          <code>d</code>
        </span>
        <input type="color" value="#1111ee">
        <span class="color-swatch"></span>
      </label>
      <label data-color="7" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>7</code>
          <code>z</code>
        </span>
        <input type="color" value="#11eeee">
        <span class="color-swatch"></span>
      </label>
      <label data-color="8" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>8</code>
          <code>x</code>
        </span>
        <input type="color" value="#eeee11">
        <span class="color-swatch"></span>
      </label>
      <label data-color="0" class="label">
        <input type="radio" name="brush-color">
        <span class="radio"></span>
        <span class="hotkey">
          <code>0</code>
          <code>c</code>
        </span>
        <div class="filler"></div>
        <span class="color-swatch checkered"></span>
      </label>
    </div>
    <div class="actions">
      <button id="save">
        Save
      </button>
      <!-- <button id="clear" onclick="alert('not implemented')">
        Clear
      </button>
      <button id="reset" onclick="alert('not implemented')">
        Reset
      </button> -->
    </div>
    <h2>Saved projects</h2>
    <div id="icons"></div>
  </div>
  <div class="canvas">
    <div class="canvas-size">
      <div>
        <input id="filename" type="text" value="Untitled" required>
      </div>
      <div>
        <label for="canvas-size">
          Canvas Size: <span id="size">8</span>
        </label>
      </div>
      <input id="canvasSize" name="canvas-size" type="range" step="2" value="8" min="2" max="32">
    </div>
    <div class="canvas-container">
      <canvas id="canvas" class="checkered"></canvas>
    </div>
    <div class="canvas-footer">
      <span>
        Created by <a href="https://github.com/lopis">lopis</a>
      </span>
      <span>
        <a href="https://github.com/lopis/mini-pixelart-editor">Source code</a>
      </span>
    </div>
  </div>
  <div class="toolbar">
    <button id="generate">Generate code</button>
    <button id="help">Help</button>
  </div>
  <div id="codeModal" class="hidden">
    <div class="overlay"></div>
    <div class="modal">
      <h2>Generated Code</h2>
      <pre id="generatedCode"></pre>
      <div id="closeButton">✕</div>
      <canvas id="testCanvas" class="checkered" title="Test Example"></canvas>
    </div>
  </div>
  <div id="helpModal" class="hidden">
    <div class="overlay"></div>
    <div class="modal">
      <h2>Mini Pixelart Editor</h2>
      <div id="closeButton">✕</div>
      <p>
        This pixel art editor was created to help create images and
        compress them into a short string, keeping the palette data
        separate. This method can produce "images" that are smaller
        that regular image files.
      </p>
      <p>
        This tool was created for the js13k game jam but can technically
        be used for any purpose, though there are probably better
        tools for that job.
      </p>
      <p>
        You can use the hotkeys 1-0 or letters to select the colors.
        Currently only German QWERTZ keyboard supported.
      </p>
      <p>
        Use the <code>Save</code> button to save your creations to the browser
        localstorage. Your palette is also saved automatically without
        having to save. When you're ready to export your work,
        you can press <code>Generate code</code>
        to compress all images and the palette, and create a code snippet
        that renders your pixel art. A small canvas in the corner of
        the code dialog allows to confirm that the code is working.
      </p>
      <p>
        Feel free to open any issues or pull requests over on github.
      </p>
      <p>
        <a href="https://github.com/lopis/mini-pixelart-editor" target="_blank">
          https://github.com/lopis/mini-pixelart-editor
        </a>
      </p>
    </div>
  </div>
  <script src="index.js"></script>
  <script src="localstorage.js"></script>
  <script src="generate.js"></script>
  <script data-host="https://app.microanalytics.io" data-dnt="false" src="https://app.microanalytics.io/js/script.js" id="ZwSg9rf6GA" async defer></script>
</body>
</html>